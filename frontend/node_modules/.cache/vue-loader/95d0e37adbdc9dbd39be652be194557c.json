{"remainingRequest":"/home/miller/Documentos/hotel/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/miller/Documentos/hotel/frontend/src/components/admin/CadastrarFuncionariosAdmin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/miller/Documentos/hotel/frontend/src/components/admin/CadastrarFuncionariosAdmin.vue","mtime":1572451520548},{"path":"/home/miller/Documentos/hotel/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1572451519388},{"path":"/home/miller/Documentos/hotel/frontend/node_modules/babel-loader/lib/index.js","mtime":1572451519220},{"path":"/home/miller/Documentos/hotel/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1572451519388},{"path":"/home/miller/Documentos/hotel/frontend/node_modules/vue-loader/lib/index.js","mtime":1572451520428}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from 'axios';\nimport {baseApiUrl, showError} from '@/global';\n\nexport default {\n    name:'CadastrarFuncionario',\n    data: function(){\n        return{\n            mode: 'save',\n            funcionario: {},\n            funcionarios: [],\n            fields:[\n                {key : 'id', label : 'Código', sortable: true},\n                {key : 'name', label : 'Nome', sortable: true},\n                {key : 'email', label : 'E-mail', sortable: true},\n                {key : 'gerente', label : 'Gerente', sortable: true, \n                formatter: value => value ? 'Sim' : 'Não'},\n                {key :'actions', label: 'Ações'}\n            ]\n        }\n    },\n    methods:{\n        loadFuncionarios(){\n            const url = `${baseApiUrl}/funcionarios`;\n            axios.get(url).then(res => {\n                this.funcionarios = res.data\n            })\n        },\n        reset(){\n            this.mode='save';\n            this.funcionario = {};\n            this.loadFuncionarios()\n        },\n        save(){\n            const method = this.funcionario.id ? 'put' : 'post';\n            const id = this.funcionario.id ? `/${this.funcionario.id}` : '';\n\n            axios[method](`${baseApiUrl}/funcionarios${id}`, this.funcionario)\n                .then(()=>{\n                    this.$toasted.global.defaultSucess();\n                    this.reset()})\n                .catch(showError)\n        },\n        deletar(){\n            const id = this.funcionario.id;\n            axios.delete(`${baseApiUrl}/funcionarios/${id}`)\n                .then(() => {\n                    this.toasted.global.defaultSucess()\n                    this.reset()\n                })\n                .catch(showError);\n        },\n        loadFuncionario(funcionario, mode='save'){\n            this.mode = mode;\n            this.funcionario = {...funcionario};\n        }\n    },\n    mounted(){\n        this.loadFuncionarios();\n    }\n}\n",{"version":3,"sources":["CadastrarFuncionariosAdmin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CadastrarFuncionariosAdmin.vue","sourceRoot":"src/components/admin","sourcesContent":["<template>\n    <div class = \"cadastrarFuncionario\">\n        <b-form>\n            <input id=\"funcionario-id\" type=\"hidden\" v-model=\"funcionario.id\" />\n            <b-row>\n                <b-col md ='6' sm='12'>\n                    <b-form-group label=\"Nome\" label-for=\"funcionario-name\">\n                        <b-form-input id=\"funcionario-name\" type='text'\n                        v-model= \"funcionario.name\" required\n                        placeholder=\"Informe o Nome do Funcionário...\"/>\n                    </b-form-group>\n                </b-col>\n                <b-col md ='6' sm='12'>\n                    <b-form-group label=\"E-mail\" label-for=\"funcionario-email\">\n                        <b-form-input id=\"funcionario-email\" type='text'\n                        v-model= \"funcionario.email\" required\n                        placeholder=\"Informe o E-mail do Funcionário...\"/>\n                    </b-form-group>\n                </b-col>\n            </b-row>\n            <b-row>\n                <b-col md ='6' sm='12'>\n                    <b-form-group label=\"CPF\" label-for=\"funcionario-cpf\">\n                        <b-form-input id=\"funcionario-cpf\" type='text'\n                        class=\"form-control\" placeholder=\"123.456.789-10\"\n                        v-model= \"funcionario.cpf\" required/>\n                    </b-form-group>\n                </b-col>\n                <b-col md ='6' sm='12'>\n                    <b-form-group label=\"RG\" label-for=\"funcionario-rg\">\n                        <b-form-input id=\"funcionario-rg\" type='text'\n                        v-model= \"funcionario.rg\" required\n                        placeholder=\"Informe RG do Usuário...\"/>\n                    </b-form-group>\n                </b-col>\n            </b-row>\n            <b-row>\n                <b-col md ='6' sm='12'>\n                    <b-form-group label=\"telefone\" label-for=\"funcionario-telefone\">\n                        <b-form-input id=\"funcionario-telefone\" type='text'\n                        class=\"form-control\" placeholder=\"(DDD) 91324-5678\"\n                        v-model= \"funcionario.telefone\" required/>\n                    </b-form-group>\n                </b-col>\n                <b-col md ='6' sm='12'>\n                    <b-form-group label=\"Dia de Nascimento\" label-for=\"funcionario-dataAniversario\">\n                        <b-form-input id=\"funcionario-dataAniversario\" type='date'\n                        v-model= \"funcionario.dataAniversario\" required\n                        placeholder=\"Informe a Data de Nascimento\"/>\n                    </b-form-group>\n                </b-col>\n            </b-row>\n            <b-form-checkbox id=\"funcionario-gerente\" v-model =\"funcionario.gerente\" class=\"mt-3 mb-3\">\n            Gerente?\n            </b-form-checkbox>\n            <b-row>\n                <b-col md ='6' sm='12'>\n                    <b-form-group label=\"Senha\" label-for=\"funcionario-password\">\n                        <b-form-input id=\"funcionario-password\" type='password'\n                        v-model= \"funcionario.password\" required\n                        placeholder=\"Informe a Senha...\"/>\n                    </b-form-group>\n                </b-col>\n                <b-col md ='6' sm='12'>\n                    <b-form-group label=\"Confirmar Senha\" label-for=\"funcionario-confirmPassword\">\n                        <b-form-input id=\"funcionario-confirmPassword\" type='password'\n                        v-model= \"funcionario.confirmPassword\" required\n                        placeholder=\"Confirme a Senha...\"/>\n                    </b-form-group>\n                </b-col>\n            </b-row>\n            <b-button variant=\"primary\" v-if=\"mode === 'save'\" @click=\"save\">Salvar</b-button>\n            <b-button variant=\"danger\" v-if=\"mode === 'deletar'\" @click=\"remove\">Excluir</b-button>\n            <b-button class=\"ml-2\" @click=\"reset\">Cancelar</b-button>\n        </b-form>\n        <hr>\n        <b-table hover striped :items=\"funcionarios\" :fields=\"fields\">\n            <template slot=\"actions\" slot-scope=\"data\">\n                <b-button variant=\"warning\" @click=\"loadFuncionario(data.item)\" class=\"mr-2\">\n                    <i class='fa fa-pencil'></i>\n                </b-button>\n                <b-button variant=\"danger\" @click=\"loadFuncionario(data.item,'deletar')\">\n                    <i class='fa fa-trash'></i>\n\n                </b-button>\n            </template>\n        </b-table>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport {baseApiUrl, showError} from '@/global';\n\nexport default {\n    name:'CadastrarFuncionario',\n    data: function(){\n        return{\n            mode: 'save',\n            funcionario: {},\n            funcionarios: [],\n            fields:[\n                {key : 'id', label : 'Código', sortable: true},\n                {key : 'name', label : 'Nome', sortable: true},\n                {key : 'email', label : 'E-mail', sortable: true},\n                {key : 'gerente', label : 'Gerente', sortable: true, \n                formatter: value => value ? 'Sim' : 'Não'},\n                {key :'actions', label: 'Ações'}\n            ]\n        }\n    },\n    methods:{\n        loadFuncionarios(){\n            const url = `${baseApiUrl}/funcionarios`;\n            axios.get(url).then(res => {\n                this.funcionarios = res.data\n            })\n        },\n        reset(){\n            this.mode='save';\n            this.funcionario = {};\n            this.loadFuncionarios()\n        },\n        save(){\n            const method = this.funcionario.id ? 'put' : 'post';\n            const id = this.funcionario.id ? `/${this.funcionario.id}` : '';\n\n            axios[method](`${baseApiUrl}/funcionarios${id}`, this.funcionario)\n                .then(()=>{\n                    this.$toasted.global.defaultSucess();\n                    this.reset()})\n                .catch(showError)\n        },\n        deletar(){\n            const id = this.funcionario.id;\n            axios.delete(`${baseApiUrl}/funcionarios/${id}`)\n                .then(() => {\n                    this.toasted.global.defaultSucess()\n                    this.reset()\n                })\n                .catch(showError);\n        },\n        loadFuncionario(funcionario, mode='save'){\n            this.mode = mode;\n            this.funcionario = {...funcionario};\n        }\n    },\n    mounted(){\n        this.loadFuncionarios();\n    }\n}\n</script>\n\n<style>\n</style>"]}]}