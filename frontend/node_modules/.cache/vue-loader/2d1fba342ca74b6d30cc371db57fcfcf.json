{"remainingRequest":"/home/miller/Documentos/hotel/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/miller/Documentos/hotel/frontend/src/components/admin/CadastrarClientesAdmin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/miller/Documentos/hotel/frontend/src/components/admin/CadastrarClientesAdmin.vue","mtime":1572451520548},{"path":"/home/miller/Documentos/hotel/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1572451519388},{"path":"/home/miller/Documentos/hotel/frontend/node_modules/babel-loader/lib/index.js","mtime":1572451519220},{"path":"/home/miller/Documentos/hotel/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1572451519388},{"path":"/home/miller/Documentos/hotel/frontend/node_modules/vue-loader/lib/index.js","mtime":1572451520428}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from \"axios\";\nimport { baseApiUrl, showError } from \"@/global\";\n\nexport default {\n  name: \"CadastrarClientes\",\n  data: function() {\n    return {\n      mode: \"save\",\n      cliente: {},\n      clientes: [],\n      fields: [\n        { key: \"id\", label: \"Código\", sortable: true },\n        { key: \"name\", label: \"Nome\", sortable: true },\n        { key: \"email\", label: \"E-mail\", sortable: true },\n        { key: \"telefone\", label: \"Celular\", sortable: true }\n      ]\n    };\n  },\n  methods: {\n    loadClientes() {\n      const url = `${baseApiUrl}/clientes`;\n      axios.get(url).then(res => {\n        this.clientes = res.data;\n      });\n    },\n    reset() {\n      this.mode = \"save\";\n      this.cliente = {};\n      this.loadClientes();\n    },\n    save() {\n      const method = this.cliente.id ? \"put\" : \"post\";\n      const id = this.cliente.id ? `/${this.user.id}` : \"\";\n\n      axios[method](`${baseApiUrl}/clientes${id}`, this.cliente)\n        .then(() => {\n          this.$toasted.global.defaultSucess();\n          this.reset();\n        })\n        .catch(showError);\n    },\n    deletar() {\n      const id = this.clientes.id;\n      axios\n        .delete(`${baseApiUrl}/clientes/${id}`)\n        .then(() => {\n          this.toasted.global.defaultSucess();\n          this.reset();\n        })\n        .catch(showError);\n    },\n    loadCliente(cliente, mode = \"save\") {\n      this.mode = mode;\n      this.cliente = { ...cliente };\n    }\n  },\n  mounted() {\n    this.loadClientes();\n  }\n};\n",{"version":3,"sources":["CadastrarClientesAdmin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CadastrarClientesAdmin.vue","sourceRoot":"src/components/admin","sourcesContent":["<template>\n  <div class=\"cadastrarClientes\">\n    <b-form>\n      <input id=\"cliente-id\" type=\"hidden\" v-model=\"cliente.id\" />\n      <b-row>\n        <b-col md=\"6\" sm=\"12\">\n          <b-form-group label=\"Nome\" label-for=\"cliente-name\">\n            <b-form-input\n              id=\"cliente-name\"\n              type=\"text\"\n              v-model=\"cliente.name\"\n              required\n              placeholder=\"Informe o Nome do Cliente...\"\n            />\n          </b-form-group>\n        </b-col>\n        <b-col md=\"6\" sm=\"12\">\n          <b-form-group label=\"E-mail\" label-for=\"cliente-email\">\n            <b-form-input\n              id=\"cliente-email\"\n              type=\"text\"\n              v-model=\"cliente.email\"\n              required\n              placeholder=\"Informe o E-mail do cliente...\"\n            />\n          </b-form-group>\n        </b-col>\n      </b-row>\n      <b-row>\n        <b-col md=\"6\" sm=\"12\">\n          <b-form-group label=\"CPF\" label-for=\"cliente-cpf\">\n            <b-form-input\n              id=\"cliente-cpf\"\n              type=\"text\"\n              class=\"form-control\"\n              placeholder=\"123.456.789-10\"\n              v-model=\"cliente.cpf\"\n              required\n            />\n          </b-form-group>\n        </b-col>\n        <b-col md=\"6\" sm=\"12\">\n          <b-form-group label=\"RG\" label-for=\"cliente-rg\">\n            <b-form-input\n              id=\"cliente-rg\"\n              type=\"text\"\n              v-model=\"cliente.rg\"\n              required\n              placeholder=\"Informe RG do Cliente...\"\n            />\n          </b-form-group>\n        </b-col>\n      </b-row>\n      <b-row>\n        <b-col md=\"6\" sm=\"12\">\n          <b-form-group label=\"telefone\" label-for=\"cliente-telefone\">\n            <b-form-input\n              id=\"cliente-telefone\"\n              type=\"text\"\n              class=\"form-control\"\n              placeholder=\"(DDD) 91324-5678\"\n              v-model=\"cliente.telefone\"\n              required\n            />\n          </b-form-group>\n        </b-col>\n        <b-col md=\"6\" sm=\"12\">\n          <b-form-group label=\"Dia de Nascimento\" label-for=\"cliente-dataAniversario\">\n            <b-form-input\n              id=\"cliente-dataAniversario\"\n              type=\"date\"\n              v-model=\"cliente.dataAniversario\"\n              required\n              placeholder=\"Informe a Data de Nascimento\"\n            />\n          </b-form-group>\n        </b-col>\n      </b-row>\n      <b-row>\n        <b-col md=\"6\" sm=\"12\">\n          <b-form-group label=\"Forma de Pagamento\" label-for=\"cliente-formaDePagamento\">\n            <b-form-input\n              id=\"cliente-formaDePagamento\"\n              type=\"text\"\n              v-model=\"cliente.formaDePagamento\"\n              required\n              placeholder=\"Informe a Forma de Pagamento...\"\n            />\n          </b-form-group>\n        </b-col>\n      </b-row>\n      <b-button variant=\"primary\" v-if=\"mode === 'save'\" @click=\"save\">Salvar</b-button>\n      <b-button variant=\"danger\" v-if=\"mode === 'deletar'\" @click=\"remove\">Excluir</b-button>\n      <b-button class=\"ml-2\" @click=\"reset\">Cancelar</b-button>\n      <hr />\n    </b-form>\n    <b-table hover striped :items=\"clientes\" :fields=\"fields\"></b-table>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { baseApiUrl, showError } from \"@/global\";\n\nexport default {\n  name: \"CadastrarClientes\",\n  data: function() {\n    return {\n      mode: \"save\",\n      cliente: {},\n      clientes: [],\n      fields: [\n        { key: \"id\", label: \"Código\", sortable: true },\n        { key: \"name\", label: \"Nome\", sortable: true },\n        { key: \"email\", label: \"E-mail\", sortable: true },\n        { key: \"telefone\", label: \"Celular\", sortable: true }\n      ]\n    };\n  },\n  methods: {\n    loadClientes() {\n      const url = `${baseApiUrl}/clientes`;\n      axios.get(url).then(res => {\n        this.clientes = res.data;\n      });\n    },\n    reset() {\n      this.mode = \"save\";\n      this.cliente = {};\n      this.loadClientes();\n    },\n    save() {\n      const method = this.cliente.id ? \"put\" : \"post\";\n      const id = this.cliente.id ? `/${this.user.id}` : \"\";\n\n      axios[method](`${baseApiUrl}/clientes${id}`, this.cliente)\n        .then(() => {\n          this.$toasted.global.defaultSucess();\n          this.reset();\n        })\n        .catch(showError);\n    },\n    deletar() {\n      const id = this.clientes.id;\n      axios\n        .delete(`${baseApiUrl}/clientes/${id}`)\n        .then(() => {\n          this.toasted.global.defaultSucess();\n          this.reset();\n        })\n        .catch(showError);\n    },\n    loadCliente(cliente, mode = \"save\") {\n      this.mode = mode;\n      this.cliente = { ...cliente };\n    }\n  },\n  mounted() {\n    this.loadClientes();\n  }\n};\n</script>\n\n<style>\n</style>"]}]}