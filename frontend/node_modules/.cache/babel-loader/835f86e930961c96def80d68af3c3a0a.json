{"remainingRequest":"/home/miller/Documentos/hotel/frontend/node_modules/babel-loader/lib/index.js!/home/miller/Documentos/hotel/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/miller/Documentos/hotel/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/miller/Documentos/hotel/frontend/src/components/admin/CadastrarFuncionariosAdmin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/miller/Documentos/hotel/frontend/src/components/admin/CadastrarFuncionariosAdmin.vue","mtime":1572451520548},{"path":"/home/miller/Documentos/hotel/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1572451519388},{"path":"/home/miller/Documentos/hotel/frontend/node_modules/babel-loader/lib/index.js","mtime":1572451519220},{"path":"/home/miller/Documentos/hotel/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1572451519388},{"path":"/home/miller/Documentos/hotel/frontend/node_modules/vue-loader/lib/index.js","mtime":1572451520428}],"contextDependencies":[],"result":["import _objectSpread from \"/home/miller/Documentos/hotel/frontend/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread2\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport { baseApiUrl, showError } from '@/global';\nexport default {\n  name: 'CadastrarFuncionario',\n  data: function data() {\n    return {\n      mode: 'save',\n      funcionario: {},\n      funcionarios: [],\n      fields: [{\n        key: 'id',\n        label: 'Código',\n        sortable: true\n      }, {\n        key: 'name',\n        label: 'Nome',\n        sortable: true\n      }, {\n        key: 'email',\n        label: 'E-mail',\n        sortable: true\n      }, {\n        key: 'gerente',\n        label: 'Gerente',\n        sortable: true,\n        formatter: function formatter(value) {\n          return value ? 'Sim' : 'Não';\n        }\n      }, {\n        key: 'actions',\n        label: 'Ações'\n      }]\n    };\n  },\n  methods: {\n    loadFuncionarios: function loadFuncionarios() {\n      var _this = this;\n\n      var url = \"\".concat(baseApiUrl, \"/funcionarios\");\n      axios.get(url).then(function (res) {\n        _this.funcionarios = res.data;\n      });\n    },\n    reset: function reset() {\n      this.mode = 'save';\n      this.funcionario = {};\n      this.loadFuncionarios();\n    },\n    save: function save() {\n      var _this2 = this;\n\n      var method = this.funcionario.id ? 'put' : 'post';\n      var id = this.funcionario.id ? \"/\".concat(this.funcionario.id) : '';\n      axios[method](\"\".concat(baseApiUrl, \"/funcionarios\").concat(id), this.funcionario).then(function () {\n        _this2.$toasted.global.defaultSucess();\n\n        _this2.reset();\n      }).catch(showError);\n    },\n    deletar: function deletar() {\n      var _this3 = this;\n\n      var id = this.funcionario.id;\n      axios.delete(\"\".concat(baseApiUrl, \"/funcionarios/\").concat(id)).then(function () {\n        _this3.toasted.global.defaultSucess();\n\n        _this3.reset();\n      }).catch(showError);\n    },\n    loadFuncionario: function loadFuncionario(funcionario) {\n      var mode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'save';\n      this.mode = mode;\n      this.funcionario = _objectSpread({}, funcionario);\n    }\n  },\n  mounted: function mounted() {\n    this.loadFuncionarios();\n  }\n};",{"version":3,"sources":["CadastrarFuncionariosAdmin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,UAAA,EAAA,SAAA,QAAA,UAAA;AAEA,eAAA;AACA,QAAA,sBADA;AAEA,QAAA,gBAAA;AACA,WAAA;AACA,YAAA,MADA;AAEA,mBAAA,EAFA;AAGA,oBAAA,EAHA;AAIA,cAAA,CACA;AAAA,aAAA,IAAA;AAAA,eAAA,QAAA;AAAA,kBAAA;AAAA,OADA,EAEA;AAAA,aAAA,MAAA;AAAA,eAAA,MAAA;AAAA,kBAAA;AAAA,OAFA,EAGA;AAAA,aAAA,OAAA;AAAA,eAAA,QAAA;AAAA,kBAAA;AAAA,OAHA,EAIA;AAAA,aAAA,SAAA;AAAA,eAAA,SAAA;AAAA,kBAAA,IAAA;AACA,mBAAA;AAAA,iBAAA,QAAA,KAAA,GAAA,KAAA;AAAA;AADA,OAJA,EAMA;AAAA,aAAA,SAAA;AAAA,eAAA;AAAA,OANA;AAJA,KAAA;AAaA,GAhBA;AAiBA,WAAA;AACA,oBADA,8BACA;AAAA;;AACA,UAAA,gBAAA,UAAA,kBAAA;AACA,YAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,eAAA;AACA,cAAA,YAAA,GAAA,IAAA,IAAA;AACA,OAFA;AAGA,KANA;AAOA,SAPA,mBAOA;AACA,WAAA,IAAA,GAAA,MAAA;AACA,WAAA,WAAA,GAAA,EAAA;AACA,WAAA,gBAAA;AACA,KAXA;AAYA,QAZA,kBAYA;AAAA;;AACA,UAAA,SAAA,KAAA,WAAA,CAAA,EAAA,GAAA,KAAA,GAAA,MAAA;AACA,UAAA,KAAA,KAAA,WAAA,CAAA,EAAA,cAAA,KAAA,WAAA,CAAA,EAAA,IAAA,EAAA;AAEA,YAAA,MAAA,YAAA,UAAA,0BAAA,EAAA,GAAA,KAAA,WAAA,EACA,IADA,CACA,YAAA;AACA,eAAA,QAAA,CAAA,MAAA,CAAA,aAAA;;AACA,eAAA,KAAA;AAAA,OAHA,EAIA,KAJA,CAIA,SAJA;AAKA,KArBA;AAsBA,WAtBA,qBAsBA;AAAA;;AACA,UAAA,KAAA,KAAA,WAAA,CAAA,EAAA;AACA,YAAA,MAAA,WAAA,UAAA,2BAAA,EAAA,GACA,IADA,CACA,YAAA;AACA,eAAA,OAAA,CAAA,MAAA,CAAA,aAAA;;AACA,eAAA,KAAA;AACA,OAJA,EAKA,KALA,CAKA,SALA;AAMA,KA9BA;AA+BA,mBA/BA,2BA+BA,WA/BA,EA+BA;AAAA,UAAA,IAAA,uEAAA,MAAA;AACA,WAAA,IAAA,GAAA,IAAA;AACA,WAAA,WAAA,qBAAA,WAAA;AACA;AAlCA,GAjBA;AAqDA,SArDA,qBAqDA;AACA,SAAA,gBAAA;AACA;AAvDA,CAAA","sourcesContent":["<template>\n    <div class = \"cadastrarFuncionario\">\n        <b-form>\n            <input id=\"funcionario-id\" type=\"hidden\" v-model=\"funcionario.id\" />\n            <b-row>\n                <b-col md ='6' sm='12'>\n                    <b-form-group label=\"Nome\" label-for=\"funcionario-name\">\n                        <b-form-input id=\"funcionario-name\" type='text'\n                        v-model= \"funcionario.name\" required\n                        placeholder=\"Informe o Nome do Funcionário...\"/>\n                    </b-form-group>\n                </b-col>\n                <b-col md ='6' sm='12'>\n                    <b-form-group label=\"E-mail\" label-for=\"funcionario-email\">\n                        <b-form-input id=\"funcionario-email\" type='text'\n                        v-model= \"funcionario.email\" required\n                        placeholder=\"Informe o E-mail do Funcionário...\"/>\n                    </b-form-group>\n                </b-col>\n            </b-row>\n            <b-row>\n                <b-col md ='6' sm='12'>\n                    <b-form-group label=\"CPF\" label-for=\"funcionario-cpf\">\n                        <b-form-input id=\"funcionario-cpf\" type='text'\n                        class=\"form-control\" placeholder=\"123.456.789-10\"\n                        v-model= \"funcionario.cpf\" required/>\n                    </b-form-group>\n                </b-col>\n                <b-col md ='6' sm='12'>\n                    <b-form-group label=\"RG\" label-for=\"funcionario-rg\">\n                        <b-form-input id=\"funcionario-rg\" type='text'\n                        v-model= \"funcionario.rg\" required\n                        placeholder=\"Informe RG do Usuário...\"/>\n                    </b-form-group>\n                </b-col>\n            </b-row>\n            <b-row>\n                <b-col md ='6' sm='12'>\n                    <b-form-group label=\"telefone\" label-for=\"funcionario-telefone\">\n                        <b-form-input id=\"funcionario-telefone\" type='text'\n                        class=\"form-control\" placeholder=\"(DDD) 91324-5678\"\n                        v-model= \"funcionario.telefone\" required/>\n                    </b-form-group>\n                </b-col>\n                <b-col md ='6' sm='12'>\n                    <b-form-group label=\"Dia de Nascimento\" label-for=\"funcionario-dataAniversario\">\n                        <b-form-input id=\"funcionario-dataAniversario\" type='date'\n                        v-model= \"funcionario.dataAniversario\" required\n                        placeholder=\"Informe a Data de Nascimento\"/>\n                    </b-form-group>\n                </b-col>\n            </b-row>\n            <b-form-checkbox id=\"funcionario-gerente\" v-model =\"funcionario.gerente\" class=\"mt-3 mb-3\">\n            Gerente?\n            </b-form-checkbox>\n            <b-row>\n                <b-col md ='6' sm='12'>\n                    <b-form-group label=\"Senha\" label-for=\"funcionario-password\">\n                        <b-form-input id=\"funcionario-password\" type='password'\n                        v-model= \"funcionario.password\" required\n                        placeholder=\"Informe a Senha...\"/>\n                    </b-form-group>\n                </b-col>\n                <b-col md ='6' sm='12'>\n                    <b-form-group label=\"Confirmar Senha\" label-for=\"funcionario-confirmPassword\">\n                        <b-form-input id=\"funcionario-confirmPassword\" type='password'\n                        v-model= \"funcionario.confirmPassword\" required\n                        placeholder=\"Confirme a Senha...\"/>\n                    </b-form-group>\n                </b-col>\n            </b-row>\n            <b-button variant=\"primary\" v-if=\"mode === 'save'\" @click=\"save\">Salvar</b-button>\n            <b-button variant=\"danger\" v-if=\"mode === 'deletar'\" @click=\"remove\">Excluir</b-button>\n            <b-button class=\"ml-2\" @click=\"reset\">Cancelar</b-button>\n        </b-form>\n        <hr>\n        <b-table hover striped :items=\"funcionarios\" :fields=\"fields\">\n            <template slot=\"actions\" slot-scope=\"data\">\n                <b-button variant=\"warning\" @click=\"loadFuncionario(data.item)\" class=\"mr-2\">\n                    <i class='fa fa-pencil'></i>\n                </b-button>\n                <b-button variant=\"danger\" @click=\"loadFuncionario(data.item,'deletar')\">\n                    <i class='fa fa-trash'></i>\n\n                </b-button>\n            </template>\n        </b-table>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport {baseApiUrl, showError} from '@/global';\n\nexport default {\n    name:'CadastrarFuncionario',\n    data: function(){\n        return{\n            mode: 'save',\n            funcionario: {},\n            funcionarios: [],\n            fields:[\n                {key : 'id', label : 'Código', sortable: true},\n                {key : 'name', label : 'Nome', sortable: true},\n                {key : 'email', label : 'E-mail', sortable: true},\n                {key : 'gerente', label : 'Gerente', sortable: true, \n                formatter: value => value ? 'Sim' : 'Não'},\n                {key :'actions', label: 'Ações'}\n            ]\n        }\n    },\n    methods:{\n        loadFuncionarios(){\n            const url = `${baseApiUrl}/funcionarios`;\n            axios.get(url).then(res => {\n                this.funcionarios = res.data\n            })\n        },\n        reset(){\n            this.mode='save';\n            this.funcionario = {};\n            this.loadFuncionarios()\n        },\n        save(){\n            const method = this.funcionario.id ? 'put' : 'post';\n            const id = this.funcionario.id ? `/${this.funcionario.id}` : '';\n\n            axios[method](`${baseApiUrl}/funcionarios${id}`, this.funcionario)\n                .then(()=>{\n                    this.$toasted.global.defaultSucess();\n                    this.reset()})\n                .catch(showError)\n        },\n        deletar(){\n            const id = this.funcionario.id;\n            axios.delete(`${baseApiUrl}/funcionarios/${id}`)\n                .then(() => {\n                    this.toasted.global.defaultSucess()\n                    this.reset()\n                })\n                .catch(showError);\n        },\n        loadFuncionario(funcionario, mode='save'){\n            this.mode = mode;\n            this.funcionario = {...funcionario};\n        }\n    },\n    mounted(){\n        this.loadFuncionarios();\n    }\n}\n</script>\n\n<style>\n</style>"],"sourceRoot":"src/components/admin"}]}